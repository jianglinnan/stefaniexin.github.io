<!DOCTYPE html PUBLIC>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
<meta charset="UTF-8">
<style type="text/css">
body {
    padding: 10px 0;
    word-wrap: break-word;
    font-family: "Hiragino Sans GB", "Microsoft YaHei", "Î¢ÈíÑÅºÚ", tahoma, arial, simsun, "ËÎÌå",serif;
}
</style>
<title>news-slide by stefanie</title>

<link href="css/style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script type="text/javascript">
var xmlHttp;

function processData(data){
    var a = $('a');
    for(var i = 0; i < 5;i++)
    {
        a[i].html(data.newsInfo[i].title);
        alert(data.newsInfo[i].title);
    }
    //alert(data.newsInfo[0].title);
    /*var a = $('a');
    a.each(function(i){
        console.log(data.newsInfo[i].pictureLink);
        $(this).setAttribute("rel", data.newsInfo[i].pictureLink);
    })*/
    //a[0].rel = data.newsInfo[3].pictureLink;
}  

function createXMLHttpRequest(){
    if(window.ActiveXObject)
    {
        xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
    }
    else if(window.XMLHttpRequest)
    {
        xmlHttp = new XMLHttpRequest();
    }
}
function startRequest(){
    createXMLHttpRequest();
    try
    {
        xmlHttp.onreadystatechange = handleStateChange;
        xmlHttp.open("GET", "news.json", false);
        xmlHttp.send(null);
    }
    catch(exception)
    {
        alert("xmlHttp Fail");
    }
}
function handleStateChange(){   
    if(xmlHttp.readyState == 4)
    {       
        if (xmlHttp.status == 200)
        {
            var result = xmlHttp.responseText;
            json = eval("(" + result + ")");
            processData(json);
        }
    }
}

//¼ÓÔØwindow.onloadº¯Êý
window.onload=function(){
   startRequest();
}();

</script>
</head>

<body>
<div id="imageFlow">   
  <div id = "news" class="bank">
        <a rel="#" title="S standard web services">Welcome to customize!</a>
        <a rel="#" title="S canary site service">Welcome to customize!</a>
        <a rel="#" title="S blue diamond site service">Welcome to customize!</a>
        <a rel="#" title="S red website building services">Welcome to customize!</a>
        <a rel="#" title="S red website building services">Welcome to customize!</a>
  </div>

  <div class="text">
    <div class="title">Loading</div>
    <div class="legend">Please wait...</div>
  </div>
  
  <div class="scrollbar">
    <img class="track" src="images/sb.gif" alt="">
    <img class="arrow-left" src="images/sl.gif" alt="">
    <img class="arrow-right" src="images/sr.gif" alt="">
    <img class="bar" src="images/sc.gif" alt="">
  </div>
  
</div>


<script type="text/javascript" src="js/imageFlow.js"></script>

<div style="text-align:center;margin:50px 0; font:normal 30px 'MicroSoft YaHei';">
<p><font color="#FFFFFF">recently news</font></p>
</div>
</body>
</html>